import{r as c}from"./index-0edd9011.js";import{N as k,s as L,d as K,e as M,u as N,f as O,g as U,h as B,R as _,i as T,j,D as H}from"./App-e7e75688.js";/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b.apply(this,arguments)}function I(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,o;for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}const x="get",E="application/x-www-form-urlencoded";function C(e){return e!=null&&typeof e.tagName=="string"}function W(e){return C(e)&&e.tagName.toLowerCase()==="button"}function z(e){return C(e)&&e.tagName.toLowerCase()==="form"}function G(e){return C(e)&&e.tagName.toLowerCase()==="input"}function X(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y(e,t){return e.button===0&&(!t||t==="_self")&&!X(e)}let S=null;function q(){if(S===null)try{new FormData(document.createElement("form"),0),S=!1}catch{S=!0}return S}const J=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F(e){return e!=null&&!J.has(e)?null:e}function Q(e,t){let a,n,r,o,i;if(z(e)){let u=e.getAttribute("action");n=u?L(u,t):null,a=e.getAttribute("method")||x,r=F(e.getAttribute("enctype"))||E,o=new FormData(e)}else if(W(e)||G(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||u.getAttribute("action");if(n=s?L(s,t):null,a=e.getAttribute("formmethod")||u.getAttribute("method")||x,r=F(e.getAttribute("formenctype"))||F(u.getAttribute("enctype"))||E,o=new FormData(u,e),!q()){let{name:l,type:m,value:f}=e;if(m==="image"){let h=l?l+".":"";o.append(h+"x","0"),o.append(h+"y","0")}else l&&o.append(l,f)}}else{if(C(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=x,n=null,r=E,i=e}return o&&r==="text/plain"&&(i=o,o=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:o,body:i}}const V=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Z=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"],$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=c.forwardRef(function(t,a){let{onClick:n,relative:r,reloadDocument:o,replace:i,state:u,target:s,to:l,preventScrollReset:m}=t,f=I(t,V),{basename:h}=c.useContext(k),y,g=!1;if(typeof l=="string"&&ee.test(l)&&(y=l,$))try{let p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l),A=L(v.pathname,h);v.origin===p.origin&&A!=null?l=A+v.search+v.hash:g=!0}catch{}let d=K(l,{relative:r}),w=ne(l,{replace:i,state:u,target:s,preventScrollReset:m,relative:r});function R(p){n&&n(p),p.defaultPrevented||w(p)}return c.createElement("a",b({},f,{href:y||d,onClick:g||o?n:R,ref:a,target:s}))}),ce=c.forwardRef((e,t)=>{let a=ae();return c.createElement(te,b({},e,{submit:a,ref:t}))}),te=c.forwardRef((e,t)=>{let{reloadDocument:a,replace:n,state:r,method:o=x,action:i,onSubmit:u,submit:s,relative:l,preventScrollReset:m}=e,f=I(e,Z),h=o.toLowerCase()==="get"?"get":"post",y=ie(i,{relative:l}),g=d=>{if(u&&u(d),d.defaultPrevented)return;d.preventDefault();let w=d.nativeEvent.submitter,R=(w==null?void 0:w.getAttribute("formmethod"))||o;s(w||d.currentTarget,{method:R,replace:n,state:r,relative:l,preventScrollReset:m})};return c.createElement("form",b({ref:t,method:h,action:y,onSubmit:a?u:g},f))});var D;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(D||(D={}));var P;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(P||(P={}));function re(e){let t=c.useContext(H);return t||T(!1),t}function ne(e,t){let{target:a,replace:n,state:r,preventScrollReset:o,relative:i}=t===void 0?{}:t,u=M(),s=N(),l=O(e,{relative:i});return c.useCallback(m=>{if(Y(m,a)){m.preventDefault();let f=n!==void 0?n:U(s)===U(l);u(e,{replace:f,state:r,preventScrollReset:o,relative:i})}},[s,u,l,n,r,a,e,o,i])}function oe(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function ae(){let{router:e}=re(D.UseSubmit),{basename:t}=c.useContext(k),a=B();return c.useCallback(function(n,r){r===void 0&&(r={}),oe();let{action:o,method:i,encType:u,formData:s,body:l}=Q(n,t);e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:s,body:l,formMethod:r.method||i,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:a})},[e,t,a])}function ie(e,t){let{relative:a}=t===void 0?{}:t,{basename:n}=c.useContext(k),r=c.useContext(_);r||T(!1);let[o]=r.matches.slice(-1),i=b({},O(e||".",{relative:a})),u=N();if(e==null&&(i.search=u.search,o.route.index)){let s=new URLSearchParams(i.search);s.delete("index"),i.search=s.toString()?"?"+s.toString():""}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:j([n,i.pathname])),U(i)}export{ce as F,se as L};
